/* src/components/common/ProjectHeader/ProjectHeader.css */

.project-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 3rem;
    text-align: left;
    position: sticky;
    top: 0;
    z-index: 100;
    padding: 1rem 0;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    background-color: transparent;
}

.project-header.sticky-active {
    /* Default to dark frosted glass to match the dark page theme */
    background-color: rgba(22, 22, 23, 0.7);
    /* Higher opacity for light mode */
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    backdrop-filter: saturate(180%) blur(20px);
    /* Apple-style frost */
    -webkit-backdrop-filter: saturate(180%) blur(20px);
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
    /* Softer shadow */
    margin-bottom: 3rem;
    margin-left: -1rem;
    margin-right: -1rem;
    padding-left: 1rem;
    padding-right: 1rem;
    border-radius: 0 0 24px 24px;
    /* Square top, rounded bottom -> Tab/Tongue look */
    /* Full width feel, no rounded bottoms unlike nav */
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

/* If we ever have a strictly light mode page, we can override or use media query,
   but ProjectP is dark-themed so this default is safer. */
@media (prefers-color-scheme: light) {
    /* Optional: keep light version if system is light AND page respects it,
       but currently ProjectP forces dark text colors? No, it forces white text.
       So header must be dark to provide contrast for white text.
       Removing the light-mode override for now to ensure consistency. */
}

@media (prefers-color-scheme: dark) {
    .project-header.sticky-active {
        background-color: rgba(22, 22, 23, 0.8);
        /* Apple dark mode base */
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
    }
}

@supports not (backdrop-filter: url(#liquid-glass-filter)) {
    .project-header.sticky-active {
        background-color: rgba(20, 20, 20, 0.85);
        backdrop-filter: blur(16px);
    }
}

.project-header-text-container {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.header-main-info {
    display: flex;
    flex-direction: column;
    transition: all 0.3s ease;
}

.header-main-info.scrolled-mode {
    flex-direction: row;
    align-items: center;
    gap: 0.5rem;
}

.header-main-info.scrolled-mode .project-title {
    font-size: 1rem;
    opacity: 0.7;
    cursor: pointer;
}

.header-main-info.scrolled-mode .project-title:hover {
    opacity: 1;
}

.header-main-info.scrolled-mode .project-date {
    display: none;
}

/* Navigator Dropdown */
.section-navigator {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    position: relative;
    height: 100%;
    padding-bottom: 0;
}

.divider {
    color: #555;
    font-weight: 300;
}

.active-section-name {
    font-size: 1rem;
    font-weight: 600;
    color: #fff;
    cursor: pointer;
    padding: 2px 0;
}

.section-navigator:hover .active-section-name {
    color: #4b9fff;
}

.section-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 8px;
    background-color: #1f1f1f;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 0.5rem;
    display: flex;
    flex-direction: column;
    width: max-content;
    min-width: 180px;
    box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.5);
    opacity: 0;
    transform: translateY(-5px);
    pointer-events: none;
    transition: all 0.2s ease;
    transition-delay: 0.1s;
}

/* Invisible bridge */
.section-dropdown::before {
    content: '';
    position: absolute;
    top: -15px;
    left: 0;
    width: 100%;
    height: 15px;
}

.section-navigator:hover .section-dropdown {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
    transition-delay: 0s;
}

.dropdown-item {
    font-size: 0.9rem;
    color: #a0a0a0;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s;
}

.dropdown-item:hover {
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
}

.dropdown-item.active {
    color: #fff;
    background: rgba(255, 255, 255, 0.05);
    font-weight: 500;
}

.project-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0;
    color: #fff;
}

.project-date {
    font-size: 0.9rem;
    font-weight: 400;
    color: #a0a0a0;
    margin-top: 4px;
}

.action-buttons-container {
    display: flex;
    gap: 0.5rem;
    flex-shrink: 0;
}

.action-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background-color: #1a1a1a;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 999px;
    color: #a0a0a0;
    cursor: pointer;
    padding: 0;
    transition: background-color 0.2s ease, color 0.2s ease;
}

.action-btn:hover {
    background-color: #2a2a2a;
    color: #fff;
}

@media print {
    .project-header {
        position: static;
        margin-bottom: 20px;
    }

    .action-buttons-container {
        display: none;
    }

    .project-header.sticky-active {
        box-shadow: none;
        background: none;
        margin: 0;
        padding: 0;
    }
}